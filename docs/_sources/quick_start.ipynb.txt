{
 "cells": [
  {
   "cell_type": "markdown",
   "metadata": {
    "collapsed": true,
    "pycharm": {
     "name": "#%% md\n"
    }
   },
   "source": [
    "# Quick Start"
   ]
  },
  {
   "cell_type": "markdown",
   "source": [
    "### Installation\n",
    "\n",
    "- Install from PYPI or from source.\n",
    "\n",
    "```\n",
    "pip install flowsaber\n",
    "```\n",
    "\n",
    "Or\n",
    "\n",
    "```bash\n",
    "https://github.com/zhqu1148980644/flowsaber.git\n",
    "cd flowsaber && pip install .\n",
    "```\n",
    "\n",
    "### Main concepts\n",
    "\n",
    "For users who are familiar with nextflow usages can skip this part, other's can also check\n",
    "[this](https://www.nextflow.io/docs/edge/basic.html) for similar descriptions that comes from the introduction\n",
    "section of the nextflow documentation.\n",
    "\n",
    "Basically there are several components that are exposed to users for building and configuring workflows.\n",
    "\n",
    "##### Task\n",
    "`Task` is the object represents the execution unit in your workflow. Tasks runs in parallel for different inputs.\n",
    "\n",
    "##### Flow\n",
    "`Flow` is the object that combines and records dependencies of all tasks you have put in. After it's been\n",
    "defined, it should be passed to `FlowRunner` for the actual dependency building and flow execution.\n",
    "\n",
    "##### Channel\n",
    "`Channel` represents a flow/queue of data, it's consumed by Tasks. Any user defined data should be\n",
    "enqueued into a channel and then as arguments of Task/Flow.\n",
    "\n",
    "##### Operator\n",
    "`Operator` is built-in tasks that helps to manipulate the control of channels.\n",
    "\n",
    "- For example: `map, sum, count, collect, flatten....`\n",
    "\n",
    "### A Typical workflow\n",
    "\n",
    "The workflow defined below covers most sets of features supported by pyflow.\n",
    "\n",
    "- Note: the output of the workflow may be different in different runs, this is\n",
    "due to the parallelism of task's executions for different inputs."
   ],
   "metadata": {
    "collapsed": false,
    "pycharm": {
     "name": "#%% md\n"
    }
   }
  },
  {
   "cell_type": "code",
   "execution_count": 1,
   "outputs": [
    {
     "data": {
      "text/plain": "<rich.jupyter.JupyterRenderable at 0x7fb029c96040>",
      "text/html": "<pre style=\"white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace\">Your config is: \n<span style=\"font-weight: bold\">{</span>\n    <span style=\"color: #008000; text-decoration-color: #008000\">'_Context__flow_stack'</span>: <span style=\"font-weight: bold\">[]</span>,\n    <span style=\"color: #008000; text-decoration-color: #008000\">'_Context__env_tasks'</span>: <span style=\"font-weight: bold\">{}</span>,\n    <span style=\"color: #008000; text-decoration-color: #008000\">'_flow_stack'</span>: <span style=\"font-weight: bold\">[]</span>,\n    <span style=\"color: #008000; text-decoration-color: #008000\">'cpu'</span>: <span style=\"color: #008080; text-decoration-color: #008080; font-weight: bold\">8</span>,\n    <span style=\"font-weight: bold\">&lt;</span><span style=\"color: #ff00ff; text-decoration-color: #ff00ff; font-weight: bold\">class</span><span style=\"color: #000000; text-decoration-color: #000000\"> </span><span style=\"color: #008000; text-decoration-color: #008000\">'flowsaber.core.task.Task'</span><span style=\"font-weight: bold\">&gt;</span>: <span style=\"font-weight: bold\">{</span><span style=\"color: #008000; text-decoration-color: #008000\">'executor'</span>: <span style=\"color: #008000; text-decoration-color: #008000\">'local'</span><span style=\"font-weight: bold\">}</span>\n<span style=\"font-weight: bold\">}</span>\n</pre>\n"
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/plain": "Output()",
      "application/vnd.jupyter.widget-view+json": {
       "version_major": 2,
       "version_minor": 0,
       "model_id": "bb352226d89243c0a52e4f74740f1b5b"
      }
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/plain": "<Figure size 432x288 with 1 Axes>",
      "image/png": "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\n"
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "import sys\n",
    "\n",
    "import matplotlib.image as mpimg\n",
    "import matplotlib.pyplot as plt\n",
    "\n",
    "sys.path.insert(0, '../../')\n",
    "from flowsaber import *\n",
    "\n",
    "\n",
    "@task\n",
    "def add(self, num):  # self is optional\n",
    "    return num + 1\n",
    "\n",
    "\n",
    "@task\n",
    "def multiply(num1, num2):\n",
    "    return num1 * num2\n",
    "\n",
    "\n",
    "@shell\n",
    "def write(num):\n",
    "    \"\"\"echo {num} > 1.txt\"\"\"\n",
    "    return '*.txt'\n",
    "\n",
    "\n",
    "@task\n",
    "def read(f: File):\n",
    "    return open(str(f)).readlines()\n",
    "\n",
    "\n",
    "@flow\n",
    "def sub_flow(num):\n",
    "    return add(num) | map_(lambda x: x ** 2) | add\n",
    "\n",
    "\n",
    "@flow\n",
    "def my_flow(num):\n",
    "    [sub_flow(num), sub_flow(num)] | multiply \\\n",
    "    | write | read | flatten \\\n",
    "    | map_(lambda x: int(x.strip())) \\\n",
    "    | view\n",
    "\n",
    "\n",
    "config.update({\n",
    "    'cpu': 8,\n",
    "    Task: {\n",
    "        'executor': 'local'  # for test, use simple one\n",
    "    }\n",
    "})\n",
    "\n",
    "# set input\n",
    "num_ch = Channel.values(1, 2, 3)\n",
    "# resolve dependencies\n",
    "runner, workflow = FlowRunner(my_flow).run(num=num_ch)\n",
    "# now can generate dag\n",
    "workflow.graph.render('workflow', view=False, format='png', cleanup=True)\n",
    "# truly run the flow\n",
    "await runner.aexecute()\n",
    "\n",
    "# visualize the flow\n",
    "\n",
    "img = mpimg.imread('workflow.png')\n",
    "imgplot = plt.imshow(img)\n",
    "plt.show(block=False)"
   ],
   "metadata": {
    "collapsed": false,
    "pycharm": {
     "name": "#%%\n"
    }
   }
  },
  {
   "cell_type": "code",
   "execution_count": 1,
   "outputs": [],
   "source": [],
   "metadata": {
    "collapsed": false,
    "pycharm": {
     "name": "#%%\n"
    }
   }
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 2
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython2",
   "version": "2.7.6"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 0
}